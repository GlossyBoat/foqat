<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Calculates average of variation of time series. (contain but not limited to:
average daily variation, average monthly variation, average annual variation)"><title>Calculate average of variation — avri • foqat</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate average of variation — avri"><meta property="og:description" content="Calculates average of variation of time series. (contain but not limited to:
average daily variation, average monthly variation, average annual variation)"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">foqat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.7</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Air_Quality.html">Air Quality</a>
    <a class="dropdown-item" href="../articles/Atmospheric_Radiation.html">Atmospheric Radiation</a>
    <a class="dropdown-item" href="../articles/Basic_Functions.html">Basic Functions</a>
    <a class="dropdown-item" href="../articles/Particle_Size_Distribution.html">Particle Size Distribution</a>
    <a class="dropdown-item" href="../articles/Plot_Functions.html">Plot Functions</a>
    <a class="dropdown-item" href="../articles/Trace_Gas_Chemistry.html">Trace Gas Chemistry</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tianshu129/foqat/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Calculate average of variation</h1>
      <small class="dont-index">Source: <a href="https://github.com/tianshu129/foqat/blob/HEAD/R/avri.R" class="external-link"><code>R/avri.R</code></a></small>
      <div class="d-none name"><code>avri.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates average of variation of time series. (contain but not limited to:
average daily variation, average monthly variation, average annual variation)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">avri</span><span class="op">(</span>
  <span class="va">df</span>,
  bkip <span class="op">=</span> <span class="cn">NULL</span>,
  mode <span class="op">=</span> <span class="st">"recipes"</span>,
  value <span class="op">=</span> <span class="st">"day"</span>,
  st <span class="op">=</span> <span class="cn">NULL</span>,
  et <span class="op">=</span> <span class="cn">NULL</span>,
  na.rm <span class="op">=</span> <span class="cn">TRUE</span>,
  digits <span class="op">=</span> <span class="fl">2</span>,
  wind <span class="op">=</span> <span class="cn">FALSE</span>,
  coliws <span class="op">=</span> <span class="fl">2</span>,
  coliwd <span class="op">=</span> <span class="fl">3</span>,
  sn <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>df</dt>
<dd><p>dataframe of time series.</p></dd>
<dt>bkip</dt>
<dd><p>the basic time reslution for average variation, such as '1 hour'. If mode "custom" is selected, do not need to enter bkip.</p></dd>
<dt>mode</dt>
<dd><p>for calculating cycles: "recipes", "ncycle", "custom".
"recipes" means using internal setting for calculation.
"ncycle" means setting number of items for per cycle.
"custom" means using 1 column in dataframe as a list of grouping elements for calculation.</p></dd>
<dt>value</dt>
<dd><p>for detail setting of mode. Possible values for "recipes" are "day", "week", "month", year".
"day" equals to 24 (hours) values in 1 day.
"week" equals to 7 (days) values in 1 week.
"month" equals to 31 (days) values in 1 month.
"year" equals to 12 (months) values in 1 year.
values for "ncycle" is a number representing number of items in per cycle.
values for "custom" is a number representing column index in dataframe.</p></dd>
<dt>st</dt>
<dd><p>start time of resampling. The default value is the fisrt value of datetime column.</p></dd>
<dt>et</dt>
<dd><p>end time of resampling. The default value is the last value of datetime column.</p></dd>
<dt>na.rm</dt>
<dd><p>logical value. Remove NA value or not?</p></dd>
<dt>digits</dt>
<dd><p>numeric value, digits for result dataframe.</p></dd>
<dt>wind</dt>
<dd><p>logical value. if TRUE, please set coliwd, coliws.</p></dd>
<dt>coliws</dt>
<dd><p>numeric value, column index of wind speed in dataframe.</p></dd>
<dt>coliwd</dt>
<dd><p>numeric value, column index of wind direction (degree) in dataframe.</p></dd>
<dt>sn</dt>
<dd><p>logical value. if TRUE, the results will be presented by scientific notation (string).</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a data frame which contains both the average variations and the standard deviations.
Note that when the pattern USES
"ncycle" or "custom", the start time determines the start time of the first
element in the average variation. For example, if the first timestamp of data is
"2010-05-01 12:00:00", the resolution is 1 hour, the mode is "ncycle", and the
value is 24, then the result represents diurnal variation starting from 12 o'clock.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If you have wind data (wind speed, and wind direction in dgree), please set 'wind' as 'TRUE', and set values for 'coliwd' and 'coliws'.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu">avri</span><span class="op">(</span><span class="va">met</span>, bkip <span class="op">=</span> <span class="st">"1 hour"</span>, mode <span class="op">=</span> <span class="st">"recipes"</span>, value <span class="op">=</span> <span class="st">"day"</span>,</span>
<span class="r-in">st <span class="op">=</span> <span class="st">"2017-05-01 00:00:00"</span>, wind <span class="op">=</span> <span class="cn">TRUE</span>, coliws <span class="op">=</span> <span class="fl">4</span>, coliwd <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining, by = "temp_datetime"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hour of day  TEM_ave  HUM_ave    WS_ave    WD_ave    TEM_sd    HUM_sd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            0 19.15833 83.96667 1.4811489  87.41851 2.1581483 13.598800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            1 19.29167 82.55667 1.5862124  98.19083 2.3189063 17.386062</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            2 19.21167 82.05833 1.7431234  91.18130 2.2133167 16.084012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4            3 18.77167 82.04333 2.2367487  93.83197 1.6347422 13.617010</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5            4 18.58167 82.88000 2.2840369 106.44643 1.5452593 11.451954</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6            5 18.56875 83.03958 2.1493396 100.41436 1.7181409 15.153850</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7            6 20.06875 76.82083 2.6610319  88.70396 0.8233956 17.287603</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8            7 21.79167 66.00833 2.8604533 100.63802 0.6042672 12.178478</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9            8 23.24792 55.50208 3.0671277 106.40778 0.9168529  8.267463</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10           9 24.53750 48.71250 3.0481545 108.47860 0.7083660  8.958716</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11          10 25.23750 46.14167 2.7362963 108.33039 0.7953714  9.839186</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12          11 25.99375 45.57500 2.5247955 114.11016 1.1639129  9.678549</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13          12 26.22292 46.08750 2.4093954  93.71706 1.7642328 14.626274</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14          13 26.58125 42.76042 2.1648261  88.46194 2.1201128 13.739670</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15          14 26.81250 40.07917 2.5717656  84.26684 2.5524181 12.701710</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16          15 26.53125 41.88333 2.6004247  81.27193 2.9331074  7.111067</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17          16 25.84375 45.85625 2.6373699  82.11262 3.2629044  4.965382</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18          17 24.30912 51.29309 2.8619390  83.59169 3.6441837  8.788306</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19          18 23.03667 55.56000 2.5690710  97.13183 3.6610023  7.458958</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20          19 21.31333 64.36833 2.0273140 101.31693 2.8916402  6.870040</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21          20 20.37667 71.48500 1.7145766  97.56517 2.4098856  9.107259</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22          21 20.11500 76.00000 1.4506764 108.74542 2.3846107 10.403598</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23          22 19.62833 80.31833 1.0338116 103.21117 2.5215777  7.981599</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24          23 19.50167 83.54833 0.8056148 115.57662 2.2451754  7.760536</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       WS_sd    WD_sd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1.688642 42.27307</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2.462471 45.21869</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  2.052557 56.76272</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  2.307165 61.24461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  2.612842 57.49787</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  3.608765 79.88410</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  3.970088 81.93771</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  4.281308 76.18725</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  4.461321 80.32155</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 5.019880 82.40729</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 5.163808 86.79045</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 4.698675 77.97388</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 4.860308 72.30656</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 4.811506 72.50645</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 4.239539 73.76020</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 3.950678 79.40615</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 3.638441 79.70563</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 3.037288 77.50171</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 2.273655 73.51274</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 1.745916 72.43312</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 1.680907 59.55001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 1.458446 65.59039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 1.389239 59.48205</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 1.268269 44.96236</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Tianshu Chen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer></div>

  

  

  </body></html>

